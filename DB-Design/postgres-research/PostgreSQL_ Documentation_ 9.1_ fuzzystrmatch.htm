<!DOCTYPE html>
<!-- saved from url=(0054)https://www.postgresql.org/docs/9.1/fuzzystrmatch.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>PostgreSQL: Documentation: 9.1: fuzzystrmatch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
   
  <meta name="theme-color" content="#336791">
  <meta name="copyright" content="The PostgreSQL Global Development Group">
  <link href="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/fontawesome.css" rel="stylesheet">
  <link rel="stylesheet" href="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/bootstrap.min.css">
  <link rel="shortcut icon" href="https://www.postgresql.org/favicon.ico">
  
    <link rel="stylesheet" type="text/css" href="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/base.css">
  
  </head>
  <body>
    <div class="container-fluid">
      <div class="row justify-content-md-center">
        <div class="col">
          <!-- Header -->
          <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <a class="navbar-brand p-0" href="https://www.postgresql.org/">
              <img class="logo" src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/elephant.png" alt="PostgreSQL Elephant Logo">
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#pgNavbar" aria-controls="pgNavbar" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="pgNavbar">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item p-2"><a href="https://www.postgresql.org/" title="Home">Home</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/about/" title="About">About</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/download/" title="Download">Download</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/docs/" title="Documentation">Documentation</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/community/" title="Community">Community</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/developer/" title="Developers">Developers</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/support/" title="Support">Support</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/about/donate/" title="Donate">Donate</a></li>
                <li class="nav-item p-2"><a href="https://www.postgresql.org/account/" title="Your account">Your account</a></li>
              </ul>
             <form role="search" method="get" action="https://www.postgresql.org/search/">
               <div class="input-group">
                 <input id="q" name="q" type="text" size="20" maxlength="255" accesskey="s" class="form-control" placeholder="Search for...">
                 <span class="input-group-btn">
                   <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                 </span>
               </div><!-- /input-group -->
             </form>
            </div>
          </nav>
        </div>
      </div>
      <div class="row justify-content-center pg-shout-box">
        <div class="col text-white text-center">14th February 2019: <a href="https://www.postgresql.org/about/news/1920/">PostgreSQL 11.2, 10.7, 9.6.12, 9.5.16, and 9.4.21 Released</a>!

</div>
      </div>
    </div>
    <div class="container-fluid margin">
      <div class="row">
        <div id="pgContentWrap" class="col-11">
          <div class="row">
            <div class="col-md-6 mb-2">
              <div class="row">
                <div class="col">
                  <div>
                    <a href="https://www.postgresql.org/docs/" title="Documentation">Documentation</a> → <a href="https://www.postgresql.org/docs/9.1/index.html">PostgreSQL 9.1</a>
                  </div>
                </div>
              </div>
              
                <div class="row">
                  <div class="col">
                    Supported Versions:
                      
                        
                        
                          <a href="https://www.postgresql.org/docs/current/fuzzystrmatch.html" title="PostgreSQL 11 - fuzzystrmatch">Current</a>
                          (<a href="https://www.postgresql.org/docs/11/fuzzystrmatch.html" title="PostgreSQL 11 - fuzzystrmatch">11</a>)
                        
                      
                         / 
                        
                          <a href="https://www.postgresql.org/docs/10/fuzzystrmatch.html" title="PostgreSQL 10 - fuzzystrmatch">10</a>
                        
                      
                         / 
                        
                          <a href="https://www.postgresql.org/docs/9.6/fuzzystrmatch.html" title="PostgreSQL 9.6 - fuzzystrmatch">9.6</a>
                        
                      
                         / 
                        
                          <a href="https://www.postgresql.org/docs/9.5/fuzzystrmatch.html" title="PostgreSQL 9.5 - fuzzystrmatch">9.5</a>
                        
                      
                         / 
                        
                          <a href="https://www.postgresql.org/docs/9.4/fuzzystrmatch.html" title="PostgreSQL 9.4 - fuzzystrmatch">9.4</a>
                        
                      
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col">
                    Development Versions:
                    
                      
                      <a href="https://www.postgresql.org/docs/devel/fuzzystrmatch.html" title="PostgreSQL devel - fuzzystrmatch" rel="nofollow">devel</a>
                    
                  </div>
                </div>
              
              
                <div class="row">
                  <div class="col-12">
                    Unsupported versions:
                    
                      
                      <a href="https://www.postgresql.org/docs/9.3/fuzzystrmatch.html" title="PostgreSQL 9.3 - fuzzystrmatch" rel="nofollow">9.3</a>
                    
                       / 
                      <a href="https://www.postgresql.org/docs/9.2/fuzzystrmatch.html" title="PostgreSQL 9.2 - fuzzystrmatch" rel="nofollow">9.2</a>
                    
                       / 
                      <a href="https://www.postgresql.org/docs/9.1/fuzzystrmatch.html" title="PostgreSQL 9.1 - fuzzystrmatch" class="docs-version-selected" rel="nofollow">9.1</a>
                    
                       / 
                      <a href="https://www.postgresql.org/docs/9.0/fuzzystrmatch.html" title="PostgreSQL 9.0 - fuzzystrmatch" rel="nofollow">9.0</a>
                    
                       / 
                      <a href="https://www.postgresql.org/docs/8.4/fuzzystrmatch.html" title="PostgreSQL 8.4 - fuzzystrmatch" rel="nofollow">8.4</a>
                    
                       / 
                      <a href="https://www.postgresql.org/docs/8.3/fuzzystrmatch.html" title="PostgreSQL 8.3 - fuzzystrmatch" rel="nofollow">8.3</a>
                    
                  </div>
                </div>
              
            </div>
            <div class="col-md-6 col-lg-5 offset-lg-1">
              <form id="docSearchForm" role="search" method="get" action="https://www.postgresql.org/search/">
                <input type="hidden" name="u" value="/docs/9.1/">
                <div class="input-group">
                  <input type="text" id="q" name="q" class="form-control" placeholder="Search the documentation for...">
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fas fa-search"></i></button>
                  </span>
                </div><!-- /input-group -->
              </form>
            </div>
          </div>
          <div id="docContent">
            <div class="NAVHEADER">
  <table summary="Header navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
    <tbody><tr>
      <th colspan="5" align="center" valign="bottom"><a href="https://www.postgresql.org/docs/9.1/index.html">PostgreSQL 9.1.24 Documentation</a></th>
    </tr>

    <tr>
      <td width="10%" align="left" valign="top"><a title="file_fdw" href="https://www.postgresql.org/docs/9.1/file-fdw.html" accesskey="P">Prev</a></td>

      <td width="10%" align="left" valign="top"><a href="https://www.postgresql.org/docs/9.1/contrib.html" accesskey="U">Up</a></td>

      <td width="60%" align="center" valign="bottom">Appendix F.
      Additional Supplied Modules</td>

      <td width="20%" align="right" valign="top"><a title="hstore" href="https://www.postgresql.org/docs/9.1/hstore.html" accesskey="N">Next</a></td>
    </tr>
  </tbody></table>
  <hr class="c1" width="100%">
</div>

<div class="SECT1">
  <h1 class="SECT1"><a name="FUZZYSTRMATCH" id="FUZZYSTRMATCH">F.15. fuzzystrmatch</a></h1>

  <p>The <tt class="FILENAME">fuzzystrmatch</tt> module provides
  several functions to determine similarities and distance between
  strings.</p>

  <div class="CAUTION">
    <table class="CAUTION" border="1" width="100%">
      <tbody><tr>
        <td class="c2" align="center">Caution</td>
      </tr>

      <tr>
        <td align="left">
          <p>At present, the <code class="FUNCTION">soundex</code>,
          <code class="FUNCTION">metaphone</code>, <code class="FUNCTION">dmetaphone</code>, and <code class="FUNCTION">dmetaphone_alt</code> functions do not work
          well with multibyte encodings (such as UTF-8).</p>
        </td>
      </tr>
    </tbody></table>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN139545" id="AEN139545">F.15.1.
    Soundex</a></h2>

    <p>The Soundex system is a method of matching similar-sounding
    names by converting them to the same code. It was initially
    used by the United States Census in 1880, 1900, and 1910. Note
    that Soundex is not very useful for non-English names.</p>

    <p>The <tt class="FILENAME">fuzzystrmatch</tt> module provides
    two functions for working with Soundex codes:</p>
    <pre class="SYNOPSIS">soundex(text) returns text
difference(text, text) returns int
</pre>

    <p>The <code class="FUNCTION">soundex</code> function converts
    a string to its Soundex code. The <code class="FUNCTION">difference</code> function converts two strings to
    their Soundex codes and then reports the number of matching
    code positions. Since Soundex codes have four characters, the
    result ranges from zero to four, with zero being no match and
    four being an exact match. (Thus, the function is misnamed —
    <code class="FUNCTION">similarity</code> would have been a
    better name.)</p>

    <p>Here are some usage examples:</p>
    <pre class="PROGRAMLISTING">SELECT soundex('hello world!');

SELECT soundex('Anne'), soundex('Ann'), difference('Anne', 'Ann');
SELECT soundex('Anne'), soundex('Andrew'), difference('Anne', 'Andrew');
SELECT soundex('Anne'), soundex('Margaret'), difference('Anne', 'Margaret');

CREATE TABLE s (nm text);

INSERT INTO s VALUES ('john');
INSERT INTO s VALUES ('joan');
INSERT INTO s VALUES ('wobbly');
INSERT INTO s VALUES ('jack');

SELECT * FROM s WHERE soundex(nm) = soundex('john');

SELECT * FROM s WHERE difference(s.nm, 'john') &gt; 2;
</pre>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN139557" id="AEN139557">F.15.2.
    Levenshtein</a></h2>

    <p>This function calculates the Levenshtein distance between
    two strings:</p>
    <pre class="SYNOPSIS">levenshtein(text source, text target, int ins_cost, int del_cost, int sub_cost) returns int
levenshtein(text source, text target) returns int
levenshtein_less_equal(text source, text target, int ins_cost, int del_cost, int sub_cost, int max_d) returns int
levenshtein_less_equal(text source, text target, int max_d) returns int
</pre>

    <p>Both <tt class="LITERAL">source</tt> and <tt class="LITERAL">target</tt> can be any non-null string, with a
    maximum of 255 bytes. The cost parameters specify how much to
    charge for a character insertion, deletion, or substitution,
    respectively. You can omit the cost parameters, as in the
    second version of the function; in that case they all default
    to 1. <tt class="LITERAL">levenshtein_less_equal</tt> is
    accelerated version of levenshtein function for low values of
    distance. If actual distance is less or equal then max_d, then
    <tt class="LITERAL">levenshtein_less_equal</tt> returns
    accurate value of it. Otherwise this function returns value
    which is greater than max_d.</p>

    <p>Examples:</p>
    <pre class="SCREEN">test=# SELECT levenshtein('GUMBO', 'GAMBOL');
 levenshtein
-------------
           2
(1 row)

test=# SELECT levenshtein('GUMBO', 'GAMBOL', 2,1,1);
 levenshtein
-------------
           3
(1 row)

test=# SELECT levenshtein_less_equal('extensive', 'exhaustive',2);
 levenshtein_less_equal
------------------------
                      3
(1 row)

test=# SELECT levenshtein_less_equal('extensive', 'exhaustive',4);
 levenshtein_less_equal
------------------------
                      4
(1 row)
</pre>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN139568" id="AEN139568">F.15.3.
    Metaphone</a></h2>

    <p>Metaphone, like Soundex, is based on the idea of
    constructing a representative code for an input string. Two
    strings are then deemed similar if they have the same
    codes.</p>

    <p>This function calculates the metaphone code of an input
    string:</p>
    <pre class="SYNOPSIS">metaphone(text source, int max_output_length) returns text
</pre>

    <p><tt class="LITERAL">source</tt> has to be a non-null string
    with a maximum of 255 characters. <tt class="LITERAL">max_output_length</tt> sets the maximum length of the
    output metaphone code; if longer, the output is truncated to
    this length.</p>

    <p>Example:</p>
    <pre class="SCREEN">test=# SELECT metaphone('GUMBO', 4);
 metaphone
-----------
 KM
(1 row)
</pre>
  </div>

  <div class="SECT2">
    <h2 class="SECT2"><a name="AEN139578" id="AEN139578">F.15.4.
    Double Metaphone</a></h2>

    <p>The Double Metaphone system computes two <span class="QUOTE">"sounds like"</span> strings for a given input string —
    a <span class="QUOTE">"primary"</span> and an <span class="QUOTE">"alternate"</span>. In most cases they are the same,
    but for non-English names especially they can be a bit
    different, depending on pronunciation. These functions compute
    the primary and alternate codes:</p>
    <pre class="SYNOPSIS">dmetaphone(text source) returns text
dmetaphone_alt(text source) returns text
</pre>

    <p>There is no length limit on the input strings.</p>

    <p>Example:</p>
    <pre class="SCREEN">test=# select dmetaphone('gumbo');
 dmetaphone
------------
 KMP
(1 row)
</pre>
  </div>
</div>

<div class="NAVFOOTER">
  <hr class="c1" width="100%">

  <table summary="Footer navigation table" width="100%" border="0" cellpadding="0" cellspacing="0">
    <tbody><tr>
      <td width="33%" align="left" valign="top"><a href="https://www.postgresql.org/docs/9.1/file-fdw.html" accesskey="P">Prev</a></td>

      <td width="34%" align="center" valign="top"><a href="https://www.postgresql.org/docs/9.1/index.html" accesskey="H">Home</a></td>

      <td width="33%" align="right" valign="top"><a href="https://www.postgresql.org/docs/9.1/hstore.html" accesskey="N">Next</a></td>
    </tr>

    <tr>
      <td width="33%" align="left" valign="top">file_fdw</td>

      <td width="34%" align="center" valign="top"><a href="https://www.postgresql.org/docs/9.1/contrib.html" accesskey="U">Up</a></td>

      <td width="33%" align="right" valign="top">hstore</td>
    </tr>
  </tbody></table>
</div>

          </div>
          
        </div> <!-- pgContentWrap -->
      </div>
    </div>
    <!-- Footer -->
    <footer id="footer">
      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <ul>
              <li><a href="https://twitter.com/postgresql"><img src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/atpostgresql.png" alt="@postgresql"></a></li>
              <li><a href="https://git.postgresql.org/gitweb/?p=postgresql.git"><img src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/git.png" alt="Git"></a></li>
            </ul>
          </div>
        </div>
      </div>
      <!-- Copyright -->
      <div class="container">
        <a href="https://www.postgresql.org/about/privacypolicy">Privacy Policy</a> |
        <a href="https://www.postgresql.org/about/policies/coc/">Code of Conduct</a> |
        <a href="https://www.postgresql.org/about/">About PostgreSQL</a> |
        <a href="https://www.postgresql.org/about/contact/">Contact</a><br>
        <p>Copyright © 1996-2019 The PostgreSQL Global Development Group</p>
      </div>
    </footer>
    <script type="text/javascript" async="" src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/ga.js"></script><script src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/jquery-3.2.1.slim.min.js"></script>
    <script src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/popper.min.js"></script>
    <script src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/bootstrap.min.js"></script>
    <script src="./PostgreSQL_ Documentation_ 9.1_ fuzzystrmatch_files/main.js"></script>
  

</body></html>